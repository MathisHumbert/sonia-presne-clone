/*! For license information please see main.5e6e3c22d85f03f1927a.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatecreative_boilerplate("main",{"./app/index.js":(e,t,n)=>{n.r(t);var a=n("./node_modules/lodash/each.js"),s=n.n(a),i=n("./node_modules/normalize-wheel/index.js"),o=n.n(i),h=n("./app/pages/Home/index.js"),d=n("./app/pages/About/index.js"),c=n("./app/pages/Project/index.js"),p=n("./app/components/Canvas/index.js"),r=n("./app/components/Preloader.js"),l=n("./app/components/Navigation.js");new class{constructor(){this.createContent(),this.createCanvas(),this.createPages(),this.createNavigation(),this.createPreloader(),this.addEventsListeners(),this.addLinkListeners(),this.update()}createContent(){this.content=document.querySelector(".content"),this.template=this.content.getAttribute("data-template")}createPages(){this.pages={home:new h.default,about:new d.default,project:new c.default},this.page=this.pages[this.template],this.page.create(!0)}createCanvas(){this.canvas=new p.default({template:this.template})}createNavigation(){this.navigation=new l.default}createPreloader(){this.preloader=new r.default,this.preloader.preload(this.content,this.onPreloaded.bind(this))}createLoader(){this.preloader.load(this.content,this.onLoaded.bind(this))}onPreloaded(){this.onResize(),this.navigation.show(),this.page.show(),this.canvas.onPreloaded()}onLoaded(){this.onResize(),this.page.show(),this.canvas.onLoaded(this.template)}onPopState(){this.onChange({url:window.location.pathname,push:!1})}async onChange({url:e,push:t}){this.canvas.onChangeStart(this.template,e),await this.page.hide();const n=await window.fetch(e);if(200===n.status){const a=await n.text(),s=document.createElement("div");s.innerHTML=a,t&&window.history.pushState({},"",e),this.navigation.onChange();const i=s.querySelector(".content");this.template=i.getAttribute("data-template"),this.content.innerHTML=i.innerHTML,this.content.setAttribute("data-template",this.template),this.page=this.pages[this.template],this.page.create(),this.canvas.gallery.isAnimating=!0,this.createLoader(),this.addLinkListeners()}else console.log("error")}onResize(){this.page&&this.page.onResize&&this.page.onResize(),this.canvas&&this.canvas.onResize&&this.canvas.onResize(),this.navigation&&this.navigation.onResize&&this.navigation.onResize()}onTouchDown(e){this.page&&this.page.onTouchDown&&this.page.onTouchDown(e),this.canvas&&this.canvas.onTouchDown&&this.canvas.onTouchDown(e)}onTouchMove(e){this.page&&this.page.onTouchMove&&this.page.onTouchMove(e),this.canvas&&this.canvas.onTouchMove&&this.canvas.onTouchMove(e)}onTouchUp(e){this.page&&this.page.onTouchUp&&this.page.onTouchUp(e),this.canvas&&this.canvas.onTouchUp&&this.canvas.onTouchUp(e)}onWheel(e){const{pixelY:t}=o()(e);this.page&&this.page.onWheel&&this.page.onWheel({pixelY:t}),this.canvas&&this.canvas.onWheel&&this.canvas.onWheel({pixelY:t})}update(){this.page&&this.page.update&&this.page.update(),this.canvas&&this.canvas.update&&this.canvas.update({scroll:this.page.scroll.current,velocity:this.page.scroll.velocity}),window.requestAnimationFrame(this.update.bind(this))}addEventsListeners(){window.addEventListener("resize",this.onResize.bind(this)),window.addEventListener("popstate",this.onPopState.bind(this)),window.addEventListener("mousedown",this.onTouchDown.bind(this)),window.addEventListener("mousemove",this.onTouchMove.bind(this)),window.addEventListener("mouseup",this.onTouchUp.bind(this)),window.addEventListener("touchstart",this.onTouchDown.bind(this)),window.addEventListener("touchmove",this.onTouchMove.bind(this)),window.addEventListener("touchend",this.onTouchUp.bind(this)),window.addEventListener("wheel",this.onWheel.bind(this))}addLinkListeners(){const e=document.querySelectorAll("a");s()(e,(e=>{const t=e.href.indexOf(window.location.origin)>-1,n=-1===e.href.indexOf("mailto"),a=-1===e.href.indexOf("tel");t?e.onclick=t=>{t.preventDefault(),this.onChange({url:e.href,push:!0})}:n&&a&&(e.rel="noopener",e.target="_blank")}))}}}},(function(e){e.h=()=>"74f6591fd174014ce1b0"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YTFFLEtBQUsrRCxZQUFZaEMsS0FBSy9CLE9BQzNEd0MsT0FBT2tDLGlCQUFpQixZQUFhMUUsS0FBS2lFLFlBQVlsQyxLQUFLL0IsT0FDM0R3QyxPQUFPa0MsaUJBQWlCLFVBQVcxRSxLQUFLa0UsVUFBVW5DLEtBQUsvQixPQUV2RHdDLE9BQU9rQyxpQkFBaUIsYUFBYzFFLEtBQUsrRCxZQUFZaEMsS0FBSy9CLE9BQzVEd0MsT0FBT2tDLGlCQUFpQixZQUFhMUUsS0FBS2lFLFlBQVlsQyxLQUFLL0IsT0FDM0R3QyxPQUFPa0MsaUJBQWlCLFdBQVkxRSxLQUFLa0UsVUFBVW5DLEtBQUsvQixPQUV4RHdDLE9BQU9rQyxpQkFBaUIsUUFBUzFFLEtBQUttRSxRQUFRcEMsS0FBSy9CLE1BQ3JELENBRUFPLG1CQUNFLE1BQU1vRSxFQUFRakUsU0FBU2tFLGlCQUFpQixLQUV4Q0MsSUFBS0YsR0FBUUcsSUFDWCxNQUFNQyxFQUFVRCxFQUFLRSxLQUFLQyxRQUFRekMsT0FBT0MsU0FBU3lDLFNBQVcsRUFFdkRDLEdBQThDLElBQWpDTCxFQUFLRSxLQUFLQyxRQUFRLFVBQy9CRyxHQUEyQyxJQUE5Qk4sRUFBS0UsS0FBS0MsUUFBUSxPQUVqQ0YsRUFDRkQsRUFBS08sUUFBV3JCLElBQ2RBLEVBQU1zQixpQkFFTnRGLEtBQUtzQyxTQUFTLENBQ1pDLElBQUt1QyxFQUFLRSxLQUNWckMsTUFBTSxHQUNOLEVBRUt3QyxHQUFjQyxJQUN2Qk4sRUFBS1MsSUFBTSxXQUNYVCxFQUFLVSxPQUFTLFNBQ2hCLEdBRUosa0JDblBGQyxFQUFvQkMsRUFBSSxJQUFNIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY3JlYXRpdmUtYm9pbGVycGxhdGUvLi9hcHAvaW5kZXguanMiLCJ3ZWJwYWNrOi8vY3JlYXRpdmUtYm9pbGVycGxhdGUvd2VicGFjay9ydW50aW1lL2dldEZ1bGxIYXNoIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlYWNoIGZyb20gJ2xvZGFzaC9lYWNoJztcbmltcG9ydCBub3JtYWxpemVXaGVlbCBmcm9tICdub3JtYWxpemUtd2hlZWwnO1xuXG5pbXBvcnQgSG9tZSBmcm9tICdwYWdlcy9Ib21lJztcbmltcG9ydCBBYm91dCBmcm9tICdwYWdlcy9BYm91dCc7XG5pbXBvcnQgUHJvamVjdCBmcm9tICdwYWdlcy9Qcm9qZWN0JztcblxuaW1wb3J0IENhbnZhcyBmcm9tICdjb21wb25lbnRzL0NhbnZhcyc7XG5pbXBvcnQgUHJlbG9hZGVyIGZyb20gJ2NvbXBvbmVudHMvUHJlbG9hZGVyJztcbmltcG9ydCBOYXZpZ2F0aW9uIGZyb20gJ2NvbXBvbmVudHMvTmF2aWdhdGlvbic7XG5jbGFzcyBBcHAge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmNyZWF0ZUNvbnRlbnQoKTtcblxuICAgIHRoaXMuY3JlYXRlQ2FudmFzKCk7XG4gICAgdGhpcy5jcmVhdGVQYWdlcygpO1xuICAgIHRoaXMuY3JlYXRlTmF2aWdhdGlvbigpO1xuICAgIHRoaXMuY3JlYXRlUHJlbG9hZGVyKCk7XG5cbiAgICB0aGlzLmFkZEV2ZW50c0xpc3RlbmVycygpO1xuICAgIHRoaXMuYWRkTGlua0xpc3RlbmVycygpO1xuXG4gICAgdGhpcy51cGRhdGUoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUuXG4gICAqL1xuICBjcmVhdGVDb250ZW50KCkge1xuICAgIHRoaXMuY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250ZW50Jyk7XG4gICAgdGhpcy50ZW1wbGF0ZSA9IHRoaXMuY29udGVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtdGVtcGxhdGUnKTtcbiAgfVxuXG4gIGNyZWF0ZVBhZ2VzKCkge1xuICAgIHRoaXMucGFnZXMgPSB7XG4gICAgICBob21lOiBuZXcgSG9tZSgpLFxuICAgICAgYWJvdXQ6IG5ldyBBYm91dCgpLFxuICAgICAgcHJvamVjdDogbmV3IFByb2plY3QoKSxcbiAgICB9O1xuXG4gICAgdGhpcy5wYWdlID0gdGhpcy5wYWdlc1t0aGlzLnRlbXBsYXRlXTtcblxuICAgIHRoaXMucGFnZS5jcmVhdGUodHJ1ZSk7XG4gIH1cblxuICBjcmVhdGVDYW52YXMoKSB7XG4gICAgdGhpcy5jYW52YXMgPSBuZXcgQ2FudmFzKHsgdGVtcGxhdGU6IHRoaXMudGVtcGxhdGUgfSk7XG4gIH1cblxuICBjcmVhdGVOYXZpZ2F0aW9uKCkge1xuICAgIHRoaXMubmF2aWdhdGlvbiA9IG5ldyBOYXZpZ2F0aW9uKCk7XG4gIH1cblxuICBjcmVhdGVQcmVsb2FkZXIoKSB7XG4gICAgdGhpcy5wcmVsb2FkZXIgPSBuZXcgUHJlbG9hZGVyKCk7XG5cbiAgICB0aGlzLnByZWxvYWRlci5wcmVsb2FkKHRoaXMuY29udGVudCwgdGhpcy5vblByZWxvYWRlZC5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIGNyZWF0ZUxvYWRlcigpIHtcbiAgICB0aGlzLnByZWxvYWRlci5sb2FkKHRoaXMuY29udGVudCwgdGhpcy5vbkxvYWRlZC5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBFdmVudHMuXG4gICAqL1xuICBvblByZWxvYWRlZCgpIHtcbiAgICB0aGlzLm9uUmVzaXplKCk7XG5cbiAgICB0aGlzLm5hdmlnYXRpb24uc2hvdygpO1xuICAgIHRoaXMucGFnZS5zaG93KCk7XG4gICAgdGhpcy5jYW52YXMub25QcmVsb2FkZWQoKTtcbiAgfVxuXG4gIG9uTG9hZGVkKCkge1xuICAgIHRoaXMub25SZXNpemUoKTtcblxuICAgIHRoaXMucGFnZS5zaG93KCk7XG4gICAgdGhpcy5jYW52YXMub25Mb2FkZWQodGhpcy50ZW1wbGF0ZSk7XG4gIH1cblxuICBvblBvcFN0YXRlKCkge1xuICAgIHRoaXMub25DaGFuZ2Uoe1xuICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUsXG4gICAgICBwdXNoOiBmYWxzZSxcbiAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIG9uQ2hhbmdlKHsgdXJsLCBwdXNoIH0pIHtcbiAgICB0aGlzLmNhbnZhcy5vbkNoYW5nZVN0YXJ0KHRoaXMudGVtcGxhdGUsIHVybCk7XG5cbiAgICBhd2FpdCB0aGlzLnBhZ2UuaGlkZSgpO1xuXG4gICAgY29uc3QgcmVxdWVzdCA9IGF3YWl0IHdpbmRvdy5mZXRjaCh1cmwpO1xuXG4gICAgaWYgKHJlcXVlc3Quc3RhdHVzID09PSAyMDApIHtcbiAgICAgIGNvbnN0IGh0bWwgPSBhd2FpdCByZXF1ZXN0LnRleHQoKTtcbiAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXG4gICAgICBkaXYuaW5uZXJIVE1MID0gaHRtbDtcblxuICAgICAgaWYgKHB1c2gpIHtcbiAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRlKHt9LCAnJywgdXJsKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5uYXZpZ2F0aW9uLm9uQ2hhbmdlKCk7XG5cbiAgICAgIGNvbnN0IGRpdkNvbnRlbnQgPSBkaXYucXVlcnlTZWxlY3RvcignLmNvbnRlbnQnKTtcbiAgICAgIHRoaXMudGVtcGxhdGUgPSBkaXZDb250ZW50LmdldEF0dHJpYnV0ZSgnZGF0YS10ZW1wbGF0ZScpO1xuXG4gICAgICB0aGlzLmNvbnRlbnQuaW5uZXJIVE1MID0gZGl2Q29udGVudC5pbm5lckhUTUw7XG4gICAgICB0aGlzLmNvbnRlbnQuc2V0QXR0cmlidXRlKCdkYXRhLXRlbXBsYXRlJywgdGhpcy50ZW1wbGF0ZSk7XG5cbiAgICAgIHRoaXMucGFnZSA9IHRoaXMucGFnZXNbdGhpcy50ZW1wbGF0ZV07XG5cbiAgICAgIHRoaXMucGFnZS5jcmVhdGUoKTtcblxuICAgICAgdGhpcy5jYW52YXMuZ2FsbGVyeS5pc0FuaW1hdGluZyA9IHRydWU7XG5cbiAgICAgIHRoaXMuY3JlYXRlTG9hZGVyKCk7XG5cbiAgICAgIHRoaXMuYWRkTGlua0xpc3RlbmVycygpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLmxvZygnZXJyb3InKTtcbiAgICB9XG4gIH1cblxuICBvblJlc2l6ZSgpIHtcbiAgICBpZiAodGhpcy5wYWdlICYmIHRoaXMucGFnZS5vblJlc2l6ZSkge1xuICAgICAgdGhpcy5wYWdlLm9uUmVzaXplKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uUmVzaXplKSB7XG4gICAgICB0aGlzLmNhbnZhcy5vblJlc2l6ZSgpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLm5hdmlnYXRpb24gJiYgdGhpcy5uYXZpZ2F0aW9uLm9uUmVzaXplKSB7XG4gICAgICB0aGlzLm5hdmlnYXRpb24ub25SZXNpemUoKTtcbiAgICB9XG4gIH1cblxuICBvblRvdWNoRG93bihldmVudCkge1xuICAgIGlmICh0aGlzLnBhZ2UgJiYgdGhpcy5wYWdlLm9uVG91Y2hEb3duKSB7XG4gICAgICB0aGlzLnBhZ2Uub25Ub3VjaERvd24oZXZlbnQpO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmNhbnZhcyAmJiB0aGlzLmNhbnZhcy5vblRvdWNoRG93bikge1xuICAgICAgdGhpcy5jYW52YXMub25Ub3VjaERvd24oZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIG9uVG91Y2hNb3ZlKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMucGFnZSAmJiB0aGlzLnBhZ2Uub25Ub3VjaE1vdmUpIHtcbiAgICAgIHRoaXMucGFnZS5vblRvdWNoTW92ZShldmVudCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uVG91Y2hNb3ZlKSB7XG4gICAgICB0aGlzLmNhbnZhcy5vblRvdWNoTW92ZShldmVudCk7XG4gICAgfVxuICB9XG5cbiAgb25Ub3VjaFVwKGV2ZW50KSB7XG4gICAgaWYgKHRoaXMucGFnZSAmJiB0aGlzLnBhZ2Uub25Ub3VjaFVwKSB7XG4gICAgICB0aGlzLnBhZ2Uub25Ub3VjaFVwKGV2ZW50KTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5jYW52YXMgJiYgdGhpcy5jYW52YXMub25Ub3VjaFVwKSB7XG4gICAgICB0aGlzLmNhbnZhcy5vblRvdWNoVXAoZXZlbnQpO1xuICAgIH1cbiAgfVxuXG4gIG9uV2hlZWwoZXZlbnQpIHtcbiAgICBjb25zdCB7IHBpeGVsWSB9ID0gbm9ybWFsaXplV2hlZWwoZXZlbnQpO1xuXG4gICAgaWYgKHRoaXMucGFnZSAmJiB0aGlzLnBhZ2Uub25XaGVlbCkge1xuICAgICAgdGhpcy5wYWdlLm9uV2hlZWwoeyBwaXhlbFkgfSk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLm9uV2hlZWwpIHtcbiAgICAgIHRoaXMuY2FudmFzLm9uV2hlZWwoeyBwaXhlbFkgfSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIExvb3AuXG4gICAqL1xuICB1cGRhdGUoKSB7XG4gICAgaWYgKHRoaXMucGFnZSAmJiB0aGlzLnBhZ2UudXBkYXRlKSB7XG4gICAgICB0aGlzLnBhZ2UudXBkYXRlKCk7XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuY2FudmFzICYmIHRoaXMuY2FudmFzLnVwZGF0ZSkge1xuICAgICAgdGhpcy5jYW52YXMudXBkYXRlKHtcbiAgICAgICAgc2Nyb2xsOiB0aGlzLnBhZ2Uuc2Nyb2xsLmN1cnJlbnQsXG4gICAgICAgIHZlbG9jaXR5OiB0aGlzLnBhZ2Uuc2Nyb2xsLnZlbG9jaXR5LFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMaXN0ZW5lcnMuXG4gICAqL1xuICBhZGRFdmVudHNMaXN0ZW5lcnMoKSB7XG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMub25SZXNpemUuYmluZCh0aGlzKSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncG9wc3RhdGUnLCB0aGlzLm9uUG9wU3RhdGUuYmluZCh0aGlzKSk7XG5cbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgdGhpcy5vblRvdWNoRG93bi5iaW5kKHRoaXMpKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgdGhpcy5vblRvdWNoTW92ZS5iaW5kKHRoaXMpKTtcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Ub3VjaFVwLmJpbmQodGhpcykpO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCB0aGlzLm9uVG91Y2hEb3duLmJpbmQodGhpcykpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCB0aGlzLm9uVG91Y2hNb3ZlLmJpbmQodGhpcykpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIHRoaXMub25Ub3VjaFVwLmJpbmQodGhpcykpO1xuXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3doZWVsJywgdGhpcy5vbldoZWVsLmJpbmQodGhpcykpO1xuICB9XG5cbiAgYWRkTGlua0xpc3RlbmVycygpIHtcbiAgICBjb25zdCBsaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ2EnKTtcblxuICAgIGVhY2gobGlua3MsIChsaW5rKSA9PiB7XG4gICAgICBjb25zdCBpc0xvY2FsID0gbGluay5ocmVmLmluZGV4T2Yod2luZG93LmxvY2F0aW9uLm9yaWdpbikgPiAtMTtcblxuICAgICAgY29uc3QgaXNOb3RFbWFpbCA9IGxpbmsuaHJlZi5pbmRleE9mKCdtYWlsdG8nKSA9PT0gLTE7XG4gICAgICBjb25zdCBpc05vdFBob25lID0gbGluay5ocmVmLmluZGV4T2YoJ3RlbCcpID09PSAtMTtcblxuICAgICAgaWYgKGlzTG9jYWwpIHtcbiAgICAgICAgbGluay5vbmNsaWNrID0gKGV2ZW50KSA9PiB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgIHRoaXMub25DaGFuZ2Uoe1xuICAgICAgICAgICAgdXJsOiBsaW5rLmhyZWYsXG4gICAgICAgICAgICBwdXNoOiB0cnVlLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIGlmIChpc05vdEVtYWlsICYmIGlzTm90UGhvbmUpIHtcbiAgICAgICAgbGluay5yZWwgPSAnbm9vcGVuZXInO1xuICAgICAgICBsaW5rLnRhcmdldCA9ICdfYmxhbmsnO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbm5ldyBBcHAoKTtcbiIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcIjc0ZjY1OTFmZDE3NDAxNGNlMWIwXCIpIl0sIm5hbWVzIjpbImNvbnN0cnVjdG9yIiwidGhpcyIsImNyZWF0ZUNvbnRlbnQiLCJjcmVhdGVDYW52YXMiLCJjcmVhdGVQYWdlcyIsImNyZWF0ZU5hdmlnYXRpb24iLCJjcmVhdGVQcmVsb2FkZXIiLCJhZGRFdmVudHNMaXN0ZW5lcnMiLCJhZGRMaW5rTGlzdGVuZXJzIiwidXBkYXRlIiwiY29udGVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInRlbXBsYXRlIiwiZ2V0QXR0cmlidXRlIiwicGFnZXMiLCJob21lIiwiSG9tZSIsImFib3V0IiwiQWJvdXQiLCJwcm9qZWN0IiwiUHJvamVjdCIsInBhZ2UiLCJjcmVhdGUiLCJjYW52YXMiLCJDYW52YXMiLCJuYXZpZ2F0aW9uIiwiTmF2aWdhdGlvbiIsInByZWxvYWRlciIsIlByZWxvYWRlciIsInByZWxvYWQiLCJvblByZWxvYWRlZCIsImJpbmQiLCJjcmVhdGVMb2FkZXIiLCJsb2FkIiwib25Mb2FkZWQiLCJvblJlc2l6ZSIsInNob3ciLCJvblBvcFN0YXRlIiwib25DaGFuZ2UiLCJ1cmwiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInBhdGhuYW1lIiwicHVzaCIsImFzeW5jIiwib25DaGFuZ2VTdGFydCIsImhpZGUiLCJyZXF1ZXN0IiwiZmV0Y2giLCJzdGF0dXMiLCJodG1sIiwidGV4dCIsImRpdiIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJoaXN0b3J5IiwicHVzaFN0YXRlIiwiZGl2Q29udGVudCIsInNldEF0dHJpYnV0ZSIsImdhbGxlcnkiLCJpc0FuaW1hdGluZyIsImNvbnNvbGUiLCJsb2ciLCJvblRvdWNoRG93biIsImV2ZW50Iiwib25Ub3VjaE1vdmUiLCJvblRvdWNoVXAiLCJvbldoZWVsIiwicGl4ZWxZIiwibm9ybWFsaXplV2hlZWwiLCJzY3JvbGwiLCJjdXJyZW50IiwidmVsb2NpdHkiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJhZGRFdmVudExpc3RlbmVyIiwibGlua3MiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZWFjaCIsImxpbmsiLCJpc0xvY2FsIiwiaHJlZiIsImluZGV4T2YiLCJvcmlnaW4iLCJpc05vdEVtYWlsIiwiaXNOb3RQaG9uZSIsIm9uY2xpY2siLCJwcmV2ZW50RGVmYXVsdCIsInJlbCIsInRhcmdldCIsIl9fd2VicGFja19yZXF1aXJlX18iLCJoIl0sInNvdXJjZVJvb3QiOiIifQ==